<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="..\static\css\common.css">
    <link rel="stylesheet" type="text/css" href="..\static\css\add_company.css">
    <title>Company List</title>
  </head>
  <body>
    <section id="panel-wrapper">
      <div id="outer-box-wrapper">
        <div id="outer_box">
          
          <section id="panel-head">
            <div id="boxtitle-and-time-wrapper">
              <div id="box-title">
                <p>회사 목록</p>
              </div>
              <div id="server-time-wrapper">
                <p>서버 시간 :</p>
                <div id="server-time", class="clock">
                  <p>yyyy-mm-dd hh:mm:ss</p>
                </div>
              </div>
            </div>
          </section>
  
          <div id="divide-line"></div>

          <section id="panel-input">
            <form
              action="/examples/media/action_target.php"
              method="post"
              id="company-info-set-wrapper"
            >
              <div class="company-info-wrapper" id="company-name-set-wrapper">
                <p>회사명 :</p> 
                <div>
                  <input id="company-name-input" type="text" name="company_name" size=48 maxlength=50>
                </div>
              </div>
    
              <div class="company-info-wrapper" id="company-desc-set-wrapper">
                <p>설명 :</p>
                <div>
                  <textarea
                    id="company-desc-input"
                    rows="9"
                    cols="62"
                    type="text"
                    maxlength=4000
                    name="company_description"
                  ></textarea>
                </div>
              </div>
              <div id="bottom-buttons-wrapper">
                <button
                type="button"
                onClick="location.href='list_view'"
                >
                목 록
                </button>
                <button id="create-button">생 성</button>
              </div>
            </form>
            </div>
          </section>
        </div>
      </div>
    </section>

    <script>
      function add_company_list() {
        $.ajax({
          type: 'POST',
          url: 'api/add',
          contentType: 'JSON',
          error: function(xhr, potion, error) {
            console.log('실패');
            console.log(error);
          },
          success: function (data) {
            console.log('성공');
            console.log(data)

          }
        })
      }


      const clock_container = document.querySelector('.clock'),
            clock_title = clock_container.querySelector('p');

      function get_time () {
        const date    = new Date();
        const year    = date.getFullYear();
        const month   = date.getMonth();
        const day     = date.getDay();
        const minutes = date.getMinutes();
        const hours   = date.getHours();
        const seconds = date.getSeconds();

        clock_title.innerText =
          `${ 
            year 
          }-${ 
            month < 10 ? `0${month}` : month 
          }-${ 
            day < 10 ? `0${day}` : day 
          } ${ 
            hours < 10 ? `0${hours}` : hours 
          }:${ 
             minutes < 10 ? `0${minutes}` : minutes 
          }:${ 
            seconds < 10 ? `0${seconds}` : seconds 
          }`;
      } 

      function time () { 
        get_time();
        setInterval(time, 1000);
      }
      time();
    </script>
  </body>
</html>
